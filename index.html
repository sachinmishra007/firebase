

<html>
<head>


</head>
<body ng-app="app" ng-controller="appCtrl" ng-init="init()">

    {{app|json}}
    <br />
    <select ng-model="LanguageOption" ng-options="l.value as l.title for l in LangOptions" ng-change="LoadData(LanguageOption)"></select>
    <br />
    <input type="text" ng-model="QuestionModel" placeholder="Question" />
    <button type="button" ng-click="addQuestions(QuestionModel)">+</button>
    <br />

    <input type="text" ng-model="AnswerModel" placeholder="Answer" />
    <button type="button" ng-click="addAnswer(AnswerModel)">+</button>
    <br />
    <input type="text" ng-model="ImageUrl" placeholder="ImageUrl" />
    <button type="button" ng-click="addImage(ImageUrl)">+</button>
    <br />
    <input type="text" ng-model="RefeLink" placeholder="ReferenceLink" />
    <button type="button" ng-click="addReferenceLink(RefeLink)">+</button>
    <br />
    <button ng-click="Save()">
        Save
    </button>

    <table style="width:100%">
        <thead>
        <th>Question</th>
        <th>Answers</th>
        <th>Image Url</th>
        <th>Reference Link</th>
        <th>Operation</th>
        </thead>
        <tbody>
            <tr ng-repeat="value in DB">
                <td>
                    <span ng-repeat="values in value.Questions track by $index">
                        <p>{{values}}</p>
                    </span>
                </td>
                <td>
                    <span ng-repeat="values in value.Answers track by $index">
                        <p style="width:50%">{{values}}</p>
                    </span>
                </td>
                <td>
                    <span ng-repeat="values in value.ImageUrls track by $index">
                        <p>{{values}}</p>
                    </span>
                </td>
                <td>
                    <span ng-repeat="values in value.ImageUrls track by $index">
                        <p>{{values}}</p>
                    </span>
                </td>
                <td>
                    <button type="button" ng-click="edit(value,value.$id)">Edit</button>
                    <button type="button" ng-click="delete(value.$id)">Delete</button>
                </td>
            </tr>
        </tbody>
    </table>

    <script src="script/angular.min.js"></script>
    <script src="script/firebase.js"></script>
    <script src="script/angularfire.min.js"></script>
    <script>
        angular.module('app', ["firebase"])
                .controller('appCtrl', function ($scope, $firebase) {




                    $scope.init = function () {

                        $scope.LanguageOption = 'angularjs';
                        console.log($scope.LanguageOption);
                    };
                    $scope.LangOptions = [{
                        value: 'angularjs',
                        title: 'Angular JS'
                    }, {
                        value: 'mvc',
                        title: 'MVC'
                    }, {
                        value: 'linq',
                        title: 'LINQ'
                    }, {
                        value: 'chsarp',
                        title: 'C Sharp (C#)'
                    }];

                    var ref;
                    if ($scope.LanguageOption == 'angularjs') {
                        ref = new Firebase("https://interviewpreparation-53102.firebaseio.com/angularjs");
                    }
                    else if ($scope.LanguageOption == 'mvc') {
                        ref = new Firebase("https://interviewpreparation-53102.firebaseio.com/mvc");
                    }
                    else if ($scope.LanguageOption == 'linq') {
                        ref = new Firebase("https://interviewpreparation-53102.firebaseio.com/linq");
                    }
                    else {
                        ref = new Firebase("https://interviewpreparation-53102.firebaseio.com/csharp");
                    }

                    $scope.LoadData = function (LanOption) {
                        console.log(LanOption);
                        if (LanOption == 'angularjs') {
                            ref = new Firebase("https://interviewpreparation-53102.firebaseio.com/angularjs");
                        }
                        else if (LanOption == 'mvc') {
                            ref = new Firebase("https://interviewpreparation-53102.firebaseio.com/mvc");
                        }
                        else if (LanOption == 'linq') {
                            ref = new Firebase("https://interviewpreparation-53102.firebaseio.com/linq");
                        }
                        else {
                            ref = new Firebase("https://interviewpreparation-53102.firebaseio.com/csharp");
                        }
                        var sync = $firebase(ref);
                        $scope.DB = sync.$asArray();
                    }

                    var sync = $firebase(ref);
                    $scope.DB = sync.$asArray();
                    //console.log($scope.DB);
                    $scope.ReferenceLink = [];
                    $scope.Question = [];
                    $scope.Answer = [];
                    $scope.Image = [];
                    $scope.app = {};

                    $scope.addQuestions = function (Question) {
                        $scope.Question.push(Question);
                        $scope.QuestionModel = '';
                        $scope.app.Questions = $scope.Question;
                        console.log($scope.app);
                    }
                    $scope.addAnswer = function (AnswerModel) {
                        $scope.Answer.push(AnswerModel);
                        $scope.AnswerModel = '';
                        $scope.app.Answers = $scope.Answer;
                        console.log($scope.app);
                    }

                    $scope.addImage = function (ImageUrl) {
                        $scope.Image.push(ImageUrl);
                        $scope.ImageUrl = '';
                        $scope.app.ImageUrls = $scope.Image;
                        console.log($scope.app);
                    }

                    $scope.addReferenceLink = function (ReferenceLink) {
                        $scope.ReferenceLink.push(ReferenceLink);
                        $scope.RefeLink = '';
                        $scope.app.ReferenceLinks = $scope.ReferenceLink;
                        console.log($scope.app);
                    }
                    $scope.Save = function () {
                        $scope.DB.$add($scope.app);
                        $scope.Question = [];
                        $scope.Answer = [];
                        $scope.Image = [];
                        $scope.ReferenceLinks = [];
                        $scope.app = { AddedDate: '' };
                    }
                    $scope.edit = function (Value, item) {
                        console.log(Value, item);
                        $scope.app = item
                    }
                    $scope.delete = function (item) {
                        ref.child(item).remove();
                    }

                });

    </script>
</body>
</html>
